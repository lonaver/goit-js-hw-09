{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,QAChCC,EAAeF,SAASC,cAAc,uBACtCE,EAAcH,SAASC,cAAc,sBACrCG,EAAgBJ,SAASC,cAAc,wBAoD7CF,EAAOM,iBAAiB,UAlCI,SAAAC,GAC1BA,EAAEC,iBAMF,IALA,IAAMC,EAAkBC,OAAOL,EAAcM,OACzCC,EAAYF,OAAOP,EAAaQ,OAC9BE,EAAcH,OAAON,EAAYO,OAEjCG,EAAgB,GACbC,EAAW,EAAGA,EAAWN,EAAiBM,IACjDD,EAAcE,KAAK,CAAEC,SAAAF,EAAUG,MAAON,IACtCA,GAAaC,EAEf,IAAMM,EAAWL,EAAcM,KAAI,SAAAC,G,OA3BrC,SAAuBJ,EAAUC,GAC/B,OAAO,IAAII,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAIpCJ,EAAQ,CAAEN,WAAUC,UAGpBM,EAAO,CAAEP,WAAUC,S,GAEpBA,E,IAgBHU,CAD4CP,EAARJ,SAAeI,EAALH,M,IAUhDI,QAAQO,IAAIV,GACTW,MAAK,SAAAC,G,OACJjC,EAAAkC,OAAOC,QAAQ,uBAA0CC,OAAjBH,EAAEd,SAAS,QAAciB,OAARH,EAAEb,MAAM,M,IAElEiB,OAAM,SAAAJ,G,OACLjC,EAAAkC,OAAOI,QAAQ,sBAAuCF,OAAjBH,EAAEd,SAAS,QAAciB,OAARH,EAAEb,MAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formEl = document.querySelector('form');\nconst inputDelayEl = document.querySelector('input[name=\"delay\"]');\nconst inputStepEl = document.querySelector('input[name=\"step\"]');\nconst inputAmountEl = document.querySelector('input[name=\"amount\"]');\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        // Fulfill\n        // console.log('resolve', position, delay);\n        resolve({ position, delay });\n      } else {\n        // console.log('reject', position, delay);\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nconst handleSubmitPromise = e => {\n  e.preventDefault();\n  const numberOfPromise = Number(inputAmountEl.value);\n  let prevDelay = Number(inputDelayEl.value);\n  const stepPromise = Number(inputStepEl.value);\n\n  const arrayPromises = [];\n  for (let position = 0; position < numberOfPromise; position++) {\n    arrayPromises.push({ position, delay: prevDelay });\n    prevDelay += stepPromise;\n  }\n  const promises = arrayPromises.map(({ position, delay }) =>\n    createPromise(position, delay)\n  );\n  // Promise.race(promises)\n  //   .then(({ position, delay }) => {\n  //     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  //   })\n  //   .catch(({ position, delay }) => {\n  //     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  //   });\n  Promise.all(promises)\n    .then(x =>\n      Notify.success(`✅ Fulfilled promise ${x.position} in ${x.delay}ms`)\n    )\n    .catch(x =>\n      Notify.failure(`❌ Rejected promise ${x.position} in ${x.delay}ms`)\n    );\n  // Promise.all(promises)\n  //   .then(x => console.log('YESSSS', x))\n  //   .catch(x => console.log('NOOOO', x));\n  //\n};\n\nformEl.addEventListener('submit', handleSubmitPromise);\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$inputDelayEl","$ce04d3a99e08e73b$var$inputStepEl","$ce04d3a99e08e73b$var$inputAmountEl","addEventListener","e","preventDefault","numberOfPromise","Number","value","prevDelay","stepPromise","arrayPromises","position1","push","position","delay","promises","map","param","Promise","resolve","reject","setTimeout","Math","random","$ce04d3a99e08e73b$var$createPromise","all","then","x","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.045b9b4b.js.map"}