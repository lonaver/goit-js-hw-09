{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,QAChCC,EAAeF,SAASC,cAAc,uBACtCE,EAAcH,SAASC,cAAc,sBACrCG,EAAgBJ,SAASC,cAAc,wBAoD7CF,EAAOM,iBAAiB,UAlCIC,IAC1BA,EAAEC,iBACF,MAAMC,EAAkBC,OAAOL,EAAcM,OAC7C,IAAIC,EAAYF,OAAOP,EAAaQ,OACpC,MAAME,EAAcH,OAAON,EAAYO,OAEjCG,EAAgB,GACtB,IAAK,IAAIC,EAAW,EAAGA,EAAWN,EAAiBM,IACjDD,EAAcE,KAAK,CAAEC,SAAAF,EAAUG,MAAON,IACtCA,GAAaC,EAEf,MAAMM,EAAWL,EAAcM,KAAI,EAACH,SAAEA,EAAQC,MAAEA,KA3BlD,SAAuBD,EAAUC,GAC/B,OAAO,IAAIG,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACaC,KAAKC,SAAW,GAIpCJ,EAAQ,C,SAAEL,E,MAAUC,IAGpBK,EAAO,C,SAAEN,E,MAAUC,GAAQ,GAE5BA,EAAM,G,CAgBTS,CAAcV,EAAUC,KAS1BG,QAAQO,IAAIT,GACTU,MAAKC,GACJhC,EAAAiC,OAAOC,QAAQ,uBAAqBF,EAAIb,eAAea,EAAEZ,aAAYe,OAEjEH,GACJhC,EAAAiC,OAAMG,QAAC,sBAASJ,EAAmBb,eAAaa,EAAIZ,YAAU","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formEl = document.querySelector('form');\nconst inputDelayEl = document.querySelector('input[name=\"delay\"]');\nconst inputStepEl = document.querySelector('input[name=\"step\"]');\nconst inputAmountEl = document.querySelector('input[name=\"amount\"]');\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        // Fulfill\n        // console.log('resolve', position, delay);\n        resolve({ position, delay });\n      } else {\n        // console.log('reject', position, delay);\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nconst handleSubmitPromise = e => {\n  e.preventDefault();\n  const numberOfPromise = Number(inputAmountEl.value);\n  let prevDelay = Number(inputDelayEl.value);\n  const stepPromise = Number(inputStepEl.value);\n\n  const arrayPromises = [];\n  for (let position = 0; position < numberOfPromise; position++) {\n    arrayPromises.push({ position, delay: prevDelay });\n    prevDelay += stepPromise;\n  }\n  const promises = arrayPromises.map(({ position, delay }) =>\n    createPromise(position, delay)\n  );\n  // Promise.race(promises)\n  //   .then(({ position, delay }) => {\n  //     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  //   })\n  //   .catch(({ position, delay }) => {\n  //     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  //   });\n  Promise.all(promises)\n    .then(x =>\n      Notify.success(`✅ Fulfilled promise ${x.position} in ${x.delay}ms`)\n    )\n    .catch(x =>\n      Notify.failure(`❌ Rejected promise ${x.position} in ${x.delay}ms`)\n    );\n  // Promise.all(promises)\n  //   .then(x => console.log('YESSSS', x))\n  //   .catch(x => console.log('NOOOO', x));\n  //\n};\n\nformEl.addEventListener('submit', handleSubmitPromise);\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$inputDelayEl","$47d4ff9957288465$var$inputStepEl","$47d4ff9957288465$var$inputAmountEl","addEventListener","e","preventDefault","numberOfPromise","Number","value","prevDelay","stepPromise","arrayPromises","position1","push","position","delay","promises","map","Promise","resolve","reject","setTimeout","Math","random","$47d4ff9957288465$var$createPromise","all","then","x","Notify","success","catch","failure"],"version":3,"file":"03-promises.9a6cb8c2.js.map"}